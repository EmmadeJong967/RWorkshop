## ----init, include = FALSE, echo = FALSE---------------------------------
library(biometrics)
load("../data/dat.RData")
tki_demo <- data.frame(tki_demo)

## ---- echo = F, out.extra = "figure", out.width = "75%", fig.align='center'----
knitr::include_graphics(file.path("assets", "images", "01_rstudio_ide.png"))

## ---- echo = F, out.extra = "figure", out.width = "100%", fig.align='center'----
knitr::include_graphics(file.path("assets", "images", "01_rstudio_ide3_large.png"))

## ------------------------------------------------------------------------
3+3
3*3

## ------------------------------------------------------------------------
a <- 3
a + a

## ------------------------------------------------------------------------
sum(1, 2, 3, 4, NA, 5, na.rm = T)

## ------------------------------------------------------------------------
c("one", "two", "three")[2]

## ----echo = F------------------------------------------------------------
told_ya <- function(x){
  paste0(x, " is awesome")
}
told_ya("matt")

## ------------------------------------------------------------------------
x <- "Teach me R"
x
class(x)

## ----error = T-----------------------------------------------------------
x <- Teach me R

## ----error = T-----------------------------------------------------------
x <- "Teach me R"
y <- "Teach me now"
x + y

## ------------------------------------------------------------------------
x <- "3"
class(x)

## ------------------------------------------------------------------------
x <- "3"
x
class(x)

## ------------------------------------------------------------------------
x <- 3
x
class(x)
x + 2

## ------------------------------------------------------------------------
x <- as.integer(3.1)
x
class(x)

## ------------------------------------------------------------------------
x + 0.4
class(x + 0.4)

## ------------------------------------------------------------------------
y <- c("Cat", "Other", "Dog", "Dog"); y
class(y)
y <- as.factor(c("Cat", "Other", "Dog", "Dog")); y

## ------------------------------------------------------------------------
class(y); levels(y)

## ------------------------------------------------------------------------
y <- y[-1]  # get rid of the cat
table(y)
y <- as.factor(y); levels(y)
y <- factor(y); levels(y)

## ------------------------------------------------------------------------
class(tki_demo$intervention)
table(tki_demo$intervention)
levels(tki_demo$intervention)      
levels(factor(as.character(tki_demo$intervention)))

## ------------------------------------------------------------------------
y <- tki_demo$intervention[1:5]
y           # retained class and levels
y <- y[-5]  # get rid of the 'Drug 1'
table(y)
y <- as.factor(y); levels(y)
y <- factor(y); levels(y)

## ----error = T-----------------------------------------------------------
y <- c(TRUE, FALSE, TRUE, FALSE, FALSE)
class(y)

## ----error = T-----------------------------------------------------------
table(y)

## ----error = T-----------------------------------------------------------
F + F + NA

## ----error = T-----------------------------------------------------------
T + NA + T

## ----error = T-----------------------------------------------------------
F + F + F

## ----error = T-----------------------------------------------------------
T + T + T

## ----error = T-----------------------------------------------------------
table(y)
sum(y)

## ----error = T-----------------------------------------------------------
all(c(T, NA, T))
all(c(F, NA, F))
any(c(T, NA, T))
any(c(F, NA, F))
all(c(T, F, T))

## ------------------------------------------------------------------------
Sys.Date()

## ------------------------------------------------------------------------
class(as.Date("2019-01-31"))

## ------------------------------------------------------------------------
class(as.Date("31-01-2019"))

## ----error = T-----------------------------------------------------------
class(as.Date("31.01.2019"))

## ------------------------------------------------------------------------
class(as.Date("31.01.2019", format = "%d.%m.%Y"))

## ----message = F, warning = F--------------------------------------------
library(lubridate); class(dmy("31.01.2019"))

## ------------------------------------------------------------------------
round(interval(ymd("1983-10-16"), Sys.Date()) / years(1), 2)
as.duration(interval(ymd("1983-10-16"), Sys.Date()))
as.period(interval(ymd("1983-10-16"), Sys.Date()))

## ------------------------------------------------------------------------
i <- 1

## ----error = T-----------------------------------------------------------
x <- c(3,4,5,6,8) # c stands for combine/concatenate
x
x + 2
length(x)
sum(x)
y <- c("Cat", "Dog", "Other", "Dog")
length(y)
sum(y)

## ------------------------------------------------------------------------
class(tki_demo)
dim(tki_demo)

## ------------------------------------------------------------------------
head(tki_demo) # can you guess what tail does?
names(tki_demo)

## ------------------------------------------------------------------------
str(tki_demo)

## ------------------------------------------------------------------------
summary(tki_demo[, 1:4])

## ------------------------------------------------------------------------
head(tki_demo)
tki_demo[1:2 , 1:3]
tki_demo[1 , 1]

## ----error = T-----------------------------------------------------------
tki_demo$day1[1:10]
tki_demo$index <- 1:10
tki_demo$index <- 1:nrow(tki_demo)
head(tki_demo)

## ----echo = T------------------------------------------------------------
load("../data/dat.RData"); head(tki_demo, 3)

## ----echo = T------------------------------------------------------------
head(tki_demo, 2)

## ------------------------------------------------------------------------
tki_list <- list(tki_demo,
                 tki_demo_complications)
class(tki_list)

## ------------------------------------------------------------------------
head(tki_list[[1]], 2) # access the first element 
head(tki_list[[2]], 2) # access the second element 

## ------------------------------------------------------------------------
lapply(tki_list, head, 2)

